import{_ as s,o as n,c as a,a as l}from"./app.303cfecc.js";const A=JSON.parse('{"title":"Nacos","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5B89\u88C5\u4E0E\u90E8\u7F72","slug":"\u5B89\u88C5\u4E0E\u90E8\u7F72","link":"#\u5B89\u88C5\u4E0E\u90E8\u7F72","children":[]},{"level":2,"title":"\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0","slug":"\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0","link":"#\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0","children":[{"level":3,"title":"\u4E34\u65F6\u5B9E\u4F8B","slug":"\u4E34\u65F6\u5B9E\u4F8B","link":"#\u4E34\u65F6\u5B9E\u4F8B","children":[]},{"level":3,"title":"\u96C6\u7FA4\u5206\u533A","slug":"\u96C6\u7FA4\u5206\u533A","link":"#\u96C6\u7FA4\u5206\u533A","children":[]}]},{"level":2,"title":"\u914D\u7F6E\u4E2D\u5FC3","slug":"\u914D\u7F6E\u4E2D\u5FC3","link":"#\u914D\u7F6E\u4E2D\u5FC3","children":[]}],"relativePath":"cloud/alibaba/nacos.md","lastUpdated":1680763907000}'),p={name:"cloud/alibaba/nacos.md"},o=l(`<h1 id="nacos" tabindex="-1">Nacos <a class="header-anchor" href="#nacos" aria-hidden="true">#</a></h1><p><img src="https://pic.img.ski/1665982008.jpg" alt="nacos.jpg"></p><p>Nacos \u66F4\u52A0\u5168\u80FD\u7684\u6CE8\u518C\u4E2D\u5FC3</p><p>Nacos\uFF08<strong>Na</strong>ming <strong>Co</strong>nfiguration <strong>S</strong>ervice\uFF09\u662F\u4E00\u6B3E\u963F\u91CC\u5DF4\u5DF4\u5F00\u6E90\u7684\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0\u3001\u914D\u7F6E\u7BA1\u7406\u7684\u7EC4\u4EF6\uFF0C\u76F8\u5F53\u4E8E\u662FEureka+Config\u7684\u7EC4\u5408\u5F62\u6001\u3002</p><h2 id="\u5B89\u88C5\u4E0E\u90E8\u7F72" tabindex="-1">\u5B89\u88C5\u4E0E\u90E8\u7F72 <a class="header-anchor" href="#\u5B89\u88C5\u4E0E\u90E8\u7F72" aria-hidden="true">#</a></h2><p>Nacos\u670D\u52A1\u5668\u662F\u72EC\u7ACB\u5B89\u88C5\u90E8\u7F72\u7684\uFF0C\u56E0\u6B64\u6211\u4EEC\u9700\u8981\u4E0B\u8F7D\u6700\u65B0\u7684Nacos\u670D\u52A1\u7AEF\u7A0B\u5E8F\uFF0C\u4E0B\u8F7D\u5730\u5740\uFF1A<a href="https://github.com/alibaba/nacos" target="_blank" rel="noreferrer">\u4E0B\u8F7D\u5730\u5740</a>\uFF0C\u4F46\u662F\u6211\u4EEC\u91C7\u7528docker \u7684\u65B9\u5F0F\u53BB\u5B89\u88C5nacos \u3002\u8FD9\u91CC\u8FD8\u662F\u53C2\u8003\u5B98\u7F51\u7684\u90E8\u7F72\u65B9\u5F0F<a href="https://nacos.io/zh-cn/docs/quick-start-docker.html" target="_blank" rel="noreferrer">\u6587\u6863\u5730\u5740</a>\u3002</p><p>Clone \u9879\u76EE</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">git clone https://github.com/nacos-group/nacos-docker.git</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> nacos-docker</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5355\u673A\u6A21\u5F0F Derby</p><div class="language-shell line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker-compose -f example/standalone-derby.yaml up</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0" tabindex="-1">\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0 <a class="header-anchor" href="#\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0" aria-hidden="true">#</a></h2><p>\u73B0\u5728\u6211\u4EEC\u8981\u5B9E\u73B0\u57FA\u4E8ENacos\u7684\u670D\u52A1\u6CE8\u518C\u4E0E\u53D1\u73B0\uFF0C\u90A3\u4E48\u5C31\u9700\u8981\u5BFC\u5165SpringCloudAlibaba\u76F8\u5173\u7684\u4F9D\u8D56\uFF0C\u6211\u4EEC\u5728\u7236\u5DE5\u7A0B\u5C06\u4F9D\u8D56\u8FDB\u884C\u7BA1\u7406\uFF1A</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">dependencyManagement</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">dependencies</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">org.mybatis.spring.boot</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">mybatis-spring-boot-starter</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">2.2.0</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">&lt;!-- \u8FD9\u91CC\u5F15\u5165\u6700\u65B0\u7684SpringCloud\u4F9D\u8D56 --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">org.springframework.cloud</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">spring-cloud-dependencies</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">2021.0.1</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">pom</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">scope</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">import</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">scope</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#676E95;">&lt;!-- \u8FD9\u91CC\u5F15\u5165\u6700\u65B0\u7684SpringCloudAlibaba\u4F9D\u8D56\uFF0C2021.0.1.0\u7248\u672C\u652F\u6301SpringBoot2.6.X --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">com.alibaba.cloud</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">spring-cloud-alibaba-dependencies</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">2021.0.1.0</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">version</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">pom</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">type</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">scope</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">import</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">scope</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">dependencies</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">dependencyManagement</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><p>\u5C06\u9879\u76EE\u6539\u9020\u6210springcloud \u9879\u76EE\u5BFC\u5165\u4F9D\u8D56</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">com.alibaba.cloud</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">spring-cloud-starter-alibaba-nacos-discovery</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u6DFB\u52A0\u914D\u7F6E\u6587\u4EF6\uFF0C\u5C06\u670D\u52A1\u6CE8\u518C\u5230nacos\u4E0A</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki"><code><span class="line"><span style="color:#F07178;">spring</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">cloud</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">nacos</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">discovery</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;"># \u914D\u7F6ENacos\u6CE8\u518C\u4E2D\u5FC3\u5730\u5740</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">server-addr</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">172.31.2.27:8848</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;"># \u81EA\u5B9A\u4E49\u7684\u540D\u79F0\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">20057d6f-05e4-49a5-941e-5044fdda1fbf</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>\u6B63\u5E38\u542F\u52A8\u9879\u76EE\uFF0C\u67E5\u770Bnacos</p><p><img src="https://pic.img.ski/1665973384.jpg" alt="\u5FAE\u4FE1\u56FE\u7247\u7F16\u8F91_20221017102231.jpg"></p><p>\u5728\u670D\u52A1\u8C03\u7528\u65B9\u4F7F\u7528openfeign \u548C\u4E4B\u524D\u4E00\u6837\u7F16\u5199\u63A5\u53E3\u548C</p><div class="language-xml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">xml</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">dependencies</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">org.springframework.cloud</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">spring-cloud-starter-openfeign</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;">&lt;!-- \u8FD9\u91CC\u9700\u8981\u5355\u72EC\u5BFC\u5165LoadBalancer\u4F9D\u8D56 --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">org.springframework.cloud</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">groupId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">spring-cloud-starter-loadbalancer</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">artifactId</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">dependency</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">dependencies</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>\u542F\u52A8\u7C7B\u6DFB\u52A0\u6CE8\u89E3<code>@EnableFeignClients</code></p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">SpringBootApplication</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">EnableFeignClients</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">BorrowApplication</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">args</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        SpringApplication</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">run</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">BorrowApplication</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">FeignClient</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">service-user</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">interface</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">UserClient</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">RequestMapping</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/user/{uid}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">User</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getUserById</span><span style="color:#89DDFF;">(@</span><span style="color:#C792EA;">PathVariable</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">uid</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">uid</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u4FEE\u6539\u5B9E\u73B0\u7C7B</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">BorrowServiceImpl</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">implements</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">BorrowService</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Resource</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">BorrowMapper</span><span style="color:#A6ACCD;"> mapper</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Resource</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">UserClient</span><span style="color:#A6ACCD;"> userClient</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Resource</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">BookClient</span><span style="color:#A6ACCD;"> bookClient</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">UserBorrowDetail</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getUserBorrowDetailByUid</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">uid</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C792EA;">Borrow</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> borrow </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> mapper</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBorrowsByUid</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">uid</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">//RestTemplate\u652F\u6301\u591A\u79CD\u65B9\u5F0F\u7684\u8FDC\u7A0B\u8C03\u7528</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">RestTemplate</span><span style="color:#A6ACCD;"> template </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">RestTemplate</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">//\u8FD9\u91CC\u901A\u8FC7\u8C03\u7528getForObject\u6765\u8BF7\u6C42\u5176\u4ED6\u670D\u52A1\uFF0C\u5E76\u5C06\u7ED3\u679C\u81EA\u52A8\u8FDB\u884C\u5C01\u88C5</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">//\u83B7\u53D6User\u4FE1\u606F</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">User</span><span style="color:#A6ACCD;"> user </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> userClient</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getUserById</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">uid</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">//\u83B7\u53D6\u6BCF\u4E00\u672C\u4E66\u7684\u8BE6\u7EC6\u4FE1\u606F</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">List</span><span style="color:#89DDFF;">&lt;</span><span style="color:#C792EA;">Book</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> bookList </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> borrow</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stream</span><span style="color:#89DDFF;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">map</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">b </span><span style="color:#C792EA;">-&gt;</span><span style="color:#A6ACCD;"> bookClient</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBookById</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">b</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getBid</span><span style="color:#89DDFF;">()))</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">collect</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Collectors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toList</span><span style="color:#89DDFF;">());</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">UserBorrowDetail</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> bookList</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="\u4E34\u65F6\u5B9E\u4F8B" tabindex="-1">\u4E34\u65F6\u5B9E\u4F8B <a class="header-anchor" href="#\u4E34\u65F6\u5B9E\u4F8B" aria-hidden="true">#</a></h3><p>Nacos\u533A\u5206\u4E86\u4E34\u65F6\u5B9E\u4F8B\u548C\u975E\u4E34\u65F6\u5B9E\u4F8B\uFF1A</p><p><img src="https://pic.img.ski/1665974037.png" alt="\u5FAE\u4FE1\u622A\u56FE_20221017103335.png"></p><ul><li>\u4E34\u65F6\u5B9E\u4F8B\uFF1A\u548CEureka\u4E00\u6837\uFF0C\u91C7\u7528\u5FC3\u8DF3\u673A\u5236\u5411Nacos\u53D1\u9001\u8BF7\u6C42\u4FDD\u6301\u5728\u7EBF\u72B6\u6001\uFF0C\u4E00\u65E6\u5FC3\u8DF3\u505C\u6B62\uFF0C\u4EE3\u8868\u5B9E\u4F8B\u4E0B\u7EBF\uFF0C\u4E0D\u4FDD\u7559\u5B9E\u4F8B\u4FE1\u606F\u3002</li><li>\u975E\u4E34\u65F6\u5B9E\u4F8B\uFF1A\u7531Nacos\u4E3B\u52A8\u8FDB\u884C\u8054\u7CFB\uFF0C\u5982\u679C\u8FDE\u63A5\u5931\u8D25\uFF0C\u90A3\u4E48\u4E0D\u4F1A\u79FB\u9664\u5B9E\u4F8B\u4FE1\u606F\uFF0C\u800C\u662F\u5C06\u5065\u5EB7\u72B6\u6001\u8BBE\u5B9A\u4E3Afalse\uFF0C\u76F8\u5F53\u4E8E\u4F1A\u5BF9\u67D0\u4E2A\u5B9E\u4F8B\u72B6\u6001\u6301\u7EED\u5730\u8FDB\u884C\u76D1\u63A7\u3002</li></ul><p>\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u914D\u7F6E\u6587\u4EF6\u8FDB\u884C\u4FEE\u6539\u4E34\u65F6\u5B9E\u4F8B\uFF1A</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki"><code><span class="line"><span style="color:#F07178;">spring</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">application</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service-user</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">cloud</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">nacos</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">discovery</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">server-addr</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">172.31.2.27:8848</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;"># \u5C06ephemeral\u4FEE\u6539\u4E3Afalse\uFF0C\u8868\u793A\u975E\u4E34\u65F6\u5B9E\u4F8B</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">ephemeral</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u5C06\u670D\u52A1\u4E0B\u7EBF\u540E\u4E0D\u4F1A\u5C06\u670D\u52A1\u5220\u9664</p><p><img src="https://pic.img.ski/1665974445.jpg" alt="\u5FAE\u4FE1\u56FE\u7247\u7F16\u8F91_20221017103916.jpg"></p><h3 id="\u96C6\u7FA4\u5206\u533A" tabindex="-1">\u96C6\u7FA4\u5206\u533A <a class="header-anchor" href="#\u96C6\u7FA4\u5206\u533A" aria-hidden="true">#</a></h3><p>\u5728\u4E00\u4E2A\u5206\u5E03\u5F0F\u5E94\u7528\u4E2D\uFF0C\u76F8\u540C\u670D\u52A1\u7684\u5B9E\u4F8B\u53EF\u80FD\u4F1A\u5728\u4E0D\u540C\u7684\u673A\u5668\u3001\u4F4D\u7F6E\u4E0A\u542F\u52A8\uFF0C\u6BD4\u5982\u6211\u4EEC\u7684\u7528\u6237\u7BA1\u7406\u670D\u52A1\uFF0C\u53EF\u80FD\u5728\u6210\u90FD\u67091\u53F0\u670D\u52A1\u5668\u90E8\u7F72\u3001\u91CD\u5E86\u6709\u4E00\u53F0\u670D\u52A1\u5668\u90E8\u7F72\uFF0C\u800C\u8FD9\u65F6\uFF0C\u6211\u4EEC\u5728\u6210\u90FD\u7684\u670D\u52A1\u5668\u4E0A\u542F\u52A8\u4E86\u501F\u9605\u670D\u52A1\uFF0C\u90A3\u4E48\u5982\u679C\u6211\u4EEC\u7684\u501F\u9605\u670D\u52A1\u73B0\u5728\u8981\u8C03\u7528\u7528\u6237\u670D\u52A1\uFF0C\u5C31\u5E94\u8BE5\u4F18\u5148\u9009\u62E9\u540C\u4E00\u4E2A\u533A\u57DF\u7684\u7528\u6237\u670D\u52A1\u8FDB\u884C\u8C03\u7528\uFF0C\u8FD9\u6837\u4F1A\u4F7F\u5F97\u54CD\u5E94\u901F\u5EA6\u66F4\u5FEB\u3002</p><p>\u56E0\u6B64\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5BF9\u90E8\u7F72\u5728\u4E0D\u540C\u673A\u623F\u7684\u670D\u52A1\u8FDB\u884C\u5206\u533A\uFF0C\u53EF\u4EE5\u770B\u5230\u5B9E\u4F8B\u7684\u5206\u533A\u662F\u9ED8\u8BA4\uFF1A</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki"><code><span class="line"><span style="color:#F07178;">spring</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">cloud</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">nacos</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">discovery</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;"># \u914D\u7F6ENacos\u6CE8\u518C\u4E2D\u5FC3\u5730\u5740</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">server-addr</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">172.31.2.27:8848</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;"># \u540D\u79F0\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">20057d6f-05e4-49a5-941e-5044fdda1fbf</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;"># \u662F\u5426\u4E3A\u4E34\u65F6\u793A\u4F8B false: \u975E\u4E34\u65F6\u793A\u4F8B</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">ephemeral</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;"># \u96C6\u7FA4\u5206\u533A</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">cluster-name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Shanghai</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><img src="https://pic.img.ski/1665975351.png" alt="7859B58E-081A-4242-A21D-C38B10C5B8AD.png"></p><p>\u5FC5\u987B\u8981\u63D0\u4F9BNacos\u7684\u8D1F\u8F7D\u5747\u8861\u5B9E\u73B0\u624D\u80FD\u5F00\u542F\u533A\u57DF\u4F18\u5148\u8C03\u7528\u673A\u5236\uFF0C\u53EA\u9700\u8981\u5728\u914D\u5236\u6587\u4EF6\u4E2D\u8FDB\u884C\u4FEE\u6539\u5373\u53EF\uFF1A</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki"><code><span class="line"><span style="color:#F07178;">spring</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">cloud</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">nacos</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">discovery</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;"># \u914D\u7F6ENacos\u6CE8\u518C\u4E2D\u5FC3\u5730\u5740</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">server-addr</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">172.31.2.27:8848</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">20057d6f-05e4-49a5-941e-5044fdda1fbf</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;"># \u662F\u5426\u4E3A\u4E34\u65F6\u793A\u4F8B false: \u975E\u4E34\u65F6\u793A\u4F8B</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">ephemeral</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;"># \u96C6\u7FA4\u5206\u533A</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">cluster-name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Shanghai</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;"># \u5C06loadbalancer\u7684nacos\u652F\u6301\u5F00\u542F\uFF0C\u96C6\u6210Nacos\u8D1F\u8F7D\u5747\u8861</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">loadbalancer</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">nacos</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">enabled</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">true</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="\u914D\u7F6E\u4E2D\u5FC3" tabindex="-1">\u914D\u7F6E\u4E2D\u5FC3 <a class="header-anchor" href="#\u914D\u7F6E\u4E2D\u5FC3" aria-hidden="true">#</a></h2><p>\u5728<code>bootstrap.yml</code>\u4E2D\u914D\u7F6E\u8FDC\u7A0B\u914D\u7F6E\u6587\u4EF6\u83B7\u53D6\uFF0C\u7136\u540E\u518D\u8FDB\u5165\u5230\u914D\u7F6E\u6587\u4EF6\u52A0\u8F7D\u73AF\u8282\uFF0C\u800CNacos\u4E5F\u652F\u6301\u8FD9\u6837\u7684\u64CD\u4F5C\uFF0C\u4F7F\u7528\u65B9\u5F0F\u4E5F\u6BD4\u8F83\u7C7B\u4F3C\uFF0C\u6BD4\u5982\u6211\u4EEC\u73B0\u5728\u60F3\u8981\u5C06\u501F\u9605\u670D\u52A1\u7684\u914D\u7F6E\u6587\u4EF6\u653E\u5230Nacos\u8FDB\u884C\u7BA1\u7406\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u65F6\u5019\u5C31\u9700\u8981\u5728Nacos\u4E2D\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6\uFF1A</p><div class="language-yaml line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki"><code><span class="line"><span style="color:#F07178;">spring</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">application</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">name</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service-borrow</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">cloud</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">nacos</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#F07178;">config</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">server-addr</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">172.31.2.27:8848</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">namespace</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">20057d6f-05e4-49a5-941e-5044fdda1fbf</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;"># \u914D\u7F6E\u6587\u4EF6\u540E\u7F00\u540D</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#F07178;">file-extension</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">yml</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>Nacos\u8FD8\u652F\u6301\u914D\u7F6E\u6587\u4EF6\u7684\u70ED\u66F4\u65B0\uFF0C\u6BD4\u5982\u6211\u4EEC\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u6DFB\u52A0\u4E86\u4E00\u4E2A\u5C5E\u6027\uFF0C\u800C\u8FD9\u4E2A\u65F6\u5019\u53EF\u80FD\u9700\u8981\u5B9E\u65F6\u4FEE\u6539\uFF0C\u5E76\u5728\u540E\u7AEF\u5B9E\u65F6\u66F4\u65B0\u3002</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">RestController</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">RefreshScope</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">TestController</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Value</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">\${test.txt}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">//\u6211\u4EEC\u4ECE\u914D\u7F6E\u6587\u4EF6\u4E2D\u8BFB\u53D6test.txt\u7684\u5B57\u7B26\u4E32\u503C\uFF0C\u4F5C\u4E3Atest\u63A5\u53E3\u7684\u8FD4\u56DE\u503C</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> txt</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">RequestMapping</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">/test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">test</span><span style="color:#89DDFF;">(){</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> txt</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div>`,46),e=[o];function r(c,t,D,y,F,i){return n(),a("div",null,e)}const b=s(p,[["render",r]]);export{A as __pageData,b as default};
